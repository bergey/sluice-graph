requirejs.config({deps:["main"],shim:{},paths:{d3:"http://cdnjs.cloudflare.com/ajax/libs/d3/3.4.11/d3.min",react:"http://cdnjs.cloudflare.com/ajax/libs/react/0.11.0/react.min",requirejs:"http://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.14/require.min",underscore:"http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min"},packages:[]}),define("deploy",function(){}),define("filterForm",["react"],function(e){var t=e.DOM,n=e.createClass({displayName:"numRange",render:function(){return t.div({},this.props.text+" between ",t.input({type:"number",value:this.props.min,onChange:this.props.minChange}),"and",t.input({type:"number",value:this.props.max,onChange:this.props.maxChange}),this.props.unit)}});return e.createClass({displayName:"filterForm",render:function(){return t.div({},n({text:"Floor area",unit:"square feet",min:this.props.minSF,max:this.props.maxSF,minChange:this.props.setMinSF,maxChange:this.props.setMaxSF}),n({text:"Energy Use Intensity",unit:"kBTU/sf/yr",min:this.props.minEui,max:this.props.maxEui,minChange:this.props.setMinEui,maxChange:this.props.setMaxEui}))}})}),define("scatterPlot",["react","d3","underscore"],function(e,t,n){var r=e.DOM,i=function(e,n){if(e.length<1)return{min:0,max:0};var r=t.extent(e,n);return{min:r[0],max:r[1]}},s=function(e,t){return"translate("+e.toString()+","+t.toString()+")"},o=e.createClass({displayName:"scatterViewport",render:function(){var e=this.props;return r.g({transform:e.transform},n.map(e.data,function(t,n){return r.circle({cx:e.xScale(t),cy:e.yScale(t),r:2,key:n})}))}}),u=function(e,t,r){var i=(t-e)/r;return n.range(e,t,i)},a=function(e,t,n,i){switch(e){case"bottom":return function(e){return r.line({x1:t(e),y1:0,x2:t(e),y2:n,key:e})};case"top":return function(e){return r.line({x1:t(e),y1:0,x2:t(e),y2:-n,key:e})};case"left":return function(e){return r.line({x1:0,y1:t(e),x2:-n,y2:t(e),key:e})};case"right":return function(e){return r.line({x1:0,y1:t(e),x2:n,y2:t(e),key:e})}}},f=function(e,t,n,i){var s,o=n+i;switch(e){case"bottom":return s={"font-size":i+"px;","text-anchor":"center"},function(e){return r.text({x:t(e),y:o,style:s},e.toString())};case"top":return s={"font-size":i+"px;","text-anchor":"center"},function(e){return r.text({x:t(e),y:-o,style:s},e.toString())};case"left":return s={"font-size":i+"px;","text-anchor":"end"},function(e){return r.text({x:-n,y:t(e)+i/2,style:s},e.toString())};case"right":return s={"font-size":i+"px;","text-anchor":"start"},function(e){return r.text({x:n,y:t(e)+i/2,style:s},e.toString())}}},l=function(e,t,n){switch(e){case"bottom":case"top":return r.line({x1:t(n.min),x2:t(n.max),y1:0,y2:0});case"right":case"left":return r.line({x1:0,x2:0,y1:t(n.min),y2:t(n.max)})}},c=e.createClass({displayName:"axis",render:function(){var e=this.props,t=e.ticks(e.domain,e.scale);return r.g({transform:this.props.transform,stroke:"black"},n.map(t,a(e.orient,e.scale,e.tickLength,e.tickLabelSize)),l(e.orient,e.scale,e.domain),n.map(t,f(e.orient,e.scale,e.tickLength,e.tickLabelSize)))},getDefaultProps:function(){return{ticks:function(e,t){return t.ticks(5)},orient:"bottom",tickLength:6,tickLabelSize:12}}});return e.createClass({displayName:"scatterPlot",render:function(){var e=this.props,t=e.width-e.margin.left-e.margin.right,u=e.height-e.margin.top-e.margin.bottom,a=e.xScale(i(e.data,e.xKey),t),f=e.yScale(i(e.data,e.yKey),u);return r.svg({width:e.width,height:e.height},o({xScale:n.compose(a,e.xKey),yScale:n.compose(f,e.yKey),transform:s(e.margin.left,e.margin.top),data:e.data,xKey:e.xKey,yKey:e.yKey}),c({transform:s(e.margin.left,e.margin.top+u),domain:i(e.data,e.xKey),scale:a}),c({transform:s(e.margin.left,e.margin.top),domain:i(e.data,e.yKey),scale:f,orient:"left"}))},getDefaultProps:function(){return{width:450,height:300,xKey:n.property("x"),yKey:n.property("y"),xScale:function(e,n){return t.scale.linear().domain([e.min,e.max]).range([0,n])},yScale:function(e,n){return t.scale.linear().domain([e.min,e.max]).range([n,0])},margin:{left:60,right:20,top:20,bottom:20},data:[]}}})}),define("filterGraph",["react","filterForm","scatterPlot"],function(e,t,n){var r=e.DOM,i=function(e){return function(t){return e.minSF<t.BLDG_FLOOR_AREA&&t.BLDG_FLOOR_AREA<e.maxSF&&e.minEui<t.SITE_EUI&&t.SITE_EUI<e.maxEui}};return e.createClass({displayName:"filterGraph",render:function(){return r.div({},n({data:_.filter(this.state.data,i(this.state)),xKey:_.property("BLDG_FLOOR_AREA"),yKey:_.property("SITE_EUI")}),t({minSF:this.state.minSF,maxSF:this.state.maxSF,minEui:this.state.minEui,maxEui:this.state.maxEui,setMinSF:this.setMinSF,setMaxSF:this.setMaxSF,setMinEui:this.setMinEui,setMaxEui:this.setMaxEui}))},componentDidMount:function(){d3.csv("Benchmarking_Data_Public.csv",function(e,t){var n=function(e){return _.forEach(["ASSET_ID","BLDG_FLOOR_AREA","SITE_EUI"],function(t){e[t]=parseFloat(e[t])}),e};if(e)return console.warn(e);var r=_.map(t,n);this.setState({data:r,minSF:_.min(r,_.property("BLDG_FLOOR_AREA")).BLDG_FLOOR_AREA,maxSF:_.max(r,_.property("BLDG_FLOOR_AREA")).BLDG_FLOOR_AREA,minEui:_.min(r,_.property("SITE_EUI")).SITE_EUI,maxEui:_.max(r,_.property("SITE_EUI")).SITE_EUI})}.bind(this))},getInitialState:function(){return{minSF:0,maxSF:2e4,minEui:0,maxEui:3e3,data:_.map([[0,0],[2,5],[10,5],[15,20]],function(e){return{x:e[0],y:e[1]}})}},setMinSF:function(e){this.setState({minSF:parseInt(e.target.value)})},setMaxSF:function(e){this.setState({maxSF:parseInt(e.target.value)})},setMinEui:function(e){this.setState({minEui:parseInt(e.target.value)})},setMaxEui:function(e){this.setState({maxEui:parseInt(e.target.value)})}})}),define("main",["react","filterGraph"],function(e,t){var n=e.DOM;e.renderComponent(t(),document.getElementById("example"))});